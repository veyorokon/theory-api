[pytest]
DJANGO_SETTINGS_MODULE = backend.settings.unittest   # SQLite default for unit lane
pythonpath = code
testpaths =
    code/apps
    code/tests
addopts = -q

markers =
    unit: fast, hermetic, no external services
    integration: uses external services/APIs
    requires_postgres: needs Postgres DB (acceptance/ledger tests)
    ledger_acceptance: acceptance invariants on the ledger
    property: property-based tests  
    openai: marks tests as requiring OpenAI API access
    ollama: marks tests as requiring Ollama daemon access
    slow: marks tests as slow running